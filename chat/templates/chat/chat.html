{% load static %}
<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
        }

        .side-chats-content {
            background: rgba(7, 16, 27, .8);
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        /* Track */
        ::-webkit-scrollbar-track {
            background: #122C4C;
        }

        /* Handle */
        ::-webkit-scrollbar-thumb {
            background: #25324b;
        }

        /* Handle on hover */
        ::-webkit-scrollbar-thumb:hover {
            background: #0f2541;
        }
    </style>
</head>

<body>
    <div class="wrapper bg-[#25324b] w-full h-[100vh]">
        <div class="flex h-full">
            <div class="side-chats hidden md:block min-w-[300px] h-full bg-[#122C4C]">
                <div class="side-chats-content w-full h-full px-1 py-2">
                    <div class="flex flex-col h-full">
                        <div>
                            <div class="profile flex items-center gap-5 border-b-2 border-[#25324B] pb-2 px-2">
                                <img class="w-14 h-14 rounded-[50%] shadow-lg shadow-[#25324B]"
                                    src="{% static 'images/profile-pic.jpg' %}" alt="">
                                <div class="username text-indigo-400 text-lg font-[600]"><div id="auth-user" class="username text-indigo-400 text-lg font-[600]">{{request.user.username}}</div>
                            </div>
                            </div>
                            <div class="user-search pt-1 pb-4 b rounded px-5 flex items-center gap-4">
                                <form action="">
                                    <input type="text"
                                        class="h-9 w-[200px] mt-3 px-4 rounded-[12px] bg-indigo-100 outline-none hover:border-[#25324B] text-gray-800"
                                        placeholder="Search username">
                                </form>
                                <a href="">
                                    <div class="rounded-[12px] chats-btn w-[1.9rem] h-[1.9rem] mr-5 mt-3">
                                        <!-- <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor"
                                            class="w-[1.9rem] h-[1.9rem] text-gray-50 shadow">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155" />
                                        </svg>
                                         -->


                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor"
                                            class="w-[1.8rem] h-[1.8rem] text-gray-50 shadow">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" />
                                        </svg>




                                    </div>
                                </a>
                            </div>
                        </div>
                        <div id="friends" class="friends relative mb-3 border-b-2  border-[#25324B] h-full overflow-auto">
                            <div class="spacer mx-3 h-1 bg-[#091524] border-b border-[#25324B]"></div>
                            <div id="friends-wrapper">
                                <div id="friends-child">
                        
                                </div>
                            </div>
                        
                            <div class="spacer sticky bottom-0 w-full h-1 bg-[#091524]"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chat-region flex flex-col w-full h-full">
                <div class="top w-full bg-indigo-200 border-b border-indigo-100 px-5 py-1">
                    <div class="flex justify-between items-center chat-wrapper gap-3">
                        <div class="detail flex items-center gap-4">
                            <div class="username text-gray-800 font-[700]">
                                {{username}}
                            </div>
                            <div class="status text-[#009400] text-sm font-[500]">
                                <div>
                                    online
                                </div>
                            </div>
                        </div>
            
                        <div class="flex gap-5">
                            <div>
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8"
                                    stroke="currentColor" class="w-4 h-4 text-indigo-500">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" />
                                </svg>
                            </div>
                            <div>
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8"
                                    stroke="currentColor" class="w-4 h-4 text-indigo-500">
                                    <path stroke-linecap="round"
                                        d="M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z" />
                                </svg>
                            </div>
                            <div>
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8"
                                    stroke="currentColor" class="w-4 h-4 text-indigo-500">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- VARIABLES -->
                <input type="text" class="hidden" value="{{room}}" name="room" id="room-name">
                <input type="text" class="hidden" value="{{user_id}}" name="user_id" id="other-user-id">
                <input type="text" class="hidden" value="{{request.user.username}}" name="auth_user" id="auth_user">

                <!-- CHAT SCREEN -->

                <div  class="screen w-full h-full bg-indigo-200 py-3 overflow-auto flex">
                    <div id="screen" class="px-5 lg:px-10 mr-2  w-full overflow-auto">

                    </div>
                </div>



                <div class="bottom bg-[#122C4C] flex items-center pl-5 pr-5 lg:pr-10 pt-3 pb-3 gap-2 md:gap-1">
                    <div class=" flex gap-4 lg:gap-6 text-gray-200 pr-3 lg:pr-5">
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.7"
                                stroke="currentColor" class="w-[18px] h-[18px]">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.112 2.13" />
                            </svg>
                        </div>
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.7"
                                stroke="currentColor" class="w-[18px] h-[18px]">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
                            </svg>
                        </div>
                    </div>

                    <textarea id="chat-input" class="w-full h-full py-[2px] leading-4 text-sm rounded bg-indigo-100 px-3 outline-none" ></textarea>

                    <button id="chat-btn" class="bg-indigo-600 shadow shadow-indigo-400 text-white px-5 h-9 rounded">Send</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="{% static 'js/lobbySocket.js' %}"></script>
    <script src="{% static 'js/chatSocket.js' %}"></script>
    <script src="{% static 'js/chatsSocket.js' %}"></script>
    </scrip>
</body>

</html>